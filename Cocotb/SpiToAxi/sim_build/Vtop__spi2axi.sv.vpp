`begin_keywords "1800-2017"
`line 1 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 1
 

`line 3 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 5 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 
 
 

`line 10 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 

`line 13 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 15 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 17 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 
 

`line 21 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 23 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 
 
 
 

`line 29 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 31 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
`default_nettype none

`line 33 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
module spi2axi #(  
    parameter SPI_CPOL       = 0,  
    parameter SPI_CPHA       = 0,  
    parameter AXI_ADDR_WIDTH = 32  
) (
     
    input wire spi_sck,  
    input wire spi_ss_n,  
    input wire spi_mosi,  
    output wire spi_miso,  
     
    input wire axi_aclk,
    input wire axi_aresetn,
     
    output wire [AXI_ADDR_WIDTH - 1:0] s_axi_awaddr,
    output wire [2:0] s_axi_awprot,  
    output wire s_axi_awvalid,
    input wire s_axi_awready,
     
    output wire [31:0] s_axi_wdata,
    output wire [3:0] s_axi_wstrb,
    output wire s_axi_wvalid,
    input wire s_axi_wready,
     
    output wire [AXI_ADDR_WIDTH - 1:0] s_axi_araddr,
    output wire [2:0] s_axi_arprot,  
    output wire s_axi_arvalid,
    input wire s_axi_arready,
     
    input wire [31:0] s_axi_rdata,
    input wire [1:0] s_axi_rresp,
    input wire s_axi_rvalid,
    output wire s_axi_rready,
     
    input wire [1:0] s_axi_bresp,
    input wire s_axi_bvalid,
    output wire s_axi_bready
);

`line 72 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
     

`line 76 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    localparam logic[7:0] CMD_WRITE  = 8'h00;
    localparam logic[7:0] CMD_READ = 8'h01;
    localparam int SPI_FRAME_LENGTH_BYTES = 11;


`line 81 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
     

`line 85 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    typedef enum {
        SPI_RECEIVE, SPI_PROCESS_RX_BYTE, SPI_LOAD_TX_BYTE
    } spi_state_t;

`line 89 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    typedef enum {
        AXI_IDLE, AXI_WRITE_ACK, AXI_WRITE_BRESP, AXI_READ_ADDR_ACK, AXI_READ_DATA
    } axi_state_t;

`line 93 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
     

`line 97 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
    spi_state_t spi_state = SPI_RECEIVE;
    axi_state_t axi_state = AXI_IDLE;
    logic spi_sck_sync_old = SPI_CPOL;
    logic [7:0] spi_rx_shreg = '0;
    logic [7:0] spi_tx_shreg = '0;
    logic axi_bresp_valid = 1'b0;
    logic [1:0] axi_bresp = '0;
    logic [1:0] axi_rresp = '0;
    logic axi_rdata_valid = 1'b0;
    logic [31:0]axi_rdata = '0;
    logic [7:0]spi_rx_cmd =  '0;
    logic [31:0]spi_rx_addr = '0;
    logic [31:0]spi_rx_wdata = '0;
    logic spi_rx_valid = 1'b0;
    logic s_axi_awvalid_int = 1'b0;
    logic s_axi_wvalid_int = 1'b0;
    logic axi_fsm_reset = 1'b1;
    logic [AXI_ADDR_WIDTH - 1:0] s_axi_awaddr_int = '0;
    logic [2:0] s_axi_awprot_int = '0;
    logic [31:0] s_axi_wdata_int = '0;
    logic [3:0] s_axi_wstrb_int = '0;
    logic [AXI_ADDR_WIDTH - 1:0] s_axi_araddr_int = '0;
    logic [2:0] s_axi_arprot_int = '0;
    logic s_axi_arvalid_int = 1'b0;
    logic s_axi_rready_int  = 1'b0;
    logic s_axi_bready_int = 1'b0;

`line 125 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
    logic  spi_sck_sync;
    logic  spi_ss_n_sync;
    logic  axi_areset;

`line 130 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     

`line 132 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    assign axi_areset = ~axi_aresetn;

`line 134 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
     

`line 138 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    synchronizer
    # (
    .G_INIT_VALUE(SPI_CPOL),
    .G_NUM_GUARD_FFS(1)
    )
    spi_sck_sync_inst (
        .i_reset(axi_areset),
        .i_clk  (axi_aclk),
        .i_data (spi_sck),
        .o_data (spi_sck_sync)
    );

`line 150 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    synchronizer
    # (
    .G_INIT_VALUE(SPI_CPOL),
    .G_NUM_GUARD_FFS(1)
    )
    spi_ss_sync_inst(
        .i_reset (axi_areset),
        .i_clk   (axi_aclk),
        .i_data  (spi_ss_n),
        .o_data  (spi_ss_n_sync)
    );

`line 162 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
     

`line 166 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    always_ff@(posedge axi_aclk) begin: spi_fsm
        logic [2:0] spi_rx_bit_idx = 0;
        logic [$clog2(SPI_FRAME_LENGTH_BYTES):0] spi_rx_byte_idx = 0;
        logic [2:0] spi_tx_bit_idx = 0;
        logic [$clog2(SPI_FRAME_LENGTH_BYTES):0] spi_tx_byte_idx = 0;
        logic spi_sck_re;
        logic spi_sck_fe;
        logic [2:0] spi_tx_byte;

`line 175 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
        if (~axi_aresetn) begin
            spi_rx_bit_idx   = 0;
            spi_rx_byte_idx  = 0;
            spi_tx_bit_idx   = 0;
            spi_tx_byte_idx  = 0;
            spi_tx_byte      = '0;
            spi_sck_sync_old <= SPI_CPOL;
            spi_rx_valid     <= 1'b0;
            spi_rx_cmd       <= '0;
            spi_rx_addr      <= '0;
            spi_rx_wdata     <= '0;
            spi_rx_shreg     <= '0;
            spi_tx_shreg     <= '0;
            axi_fsm_reset    <= 1'b1;
            spi_state        <= SPI_RECEIVE;
        end else begin
             
            spi_rx_valid     <= 1'b0;
            spi_sck_sync_old <= spi_sck_sync;

`line 195 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
            case (spi_state)  

`line 197 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                 
                 
                 
                 
                SPI_RECEIVE : begin
                    if (spi_ss_n_sync == 1'b0) begin
                        axi_fsm_reset <= 1'b0;

`line 205 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                        spi_sck_re = (spi_sck_sync == 1'b1 && spi_sck_sync_old == 1'b0);
                        spi_sck_fe = (spi_sck_sync == 1'b0 && spi_sck_sync_old == 1'b1);

`line 208 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                         
                        if ((SPI_CPOL == 0 && SPI_CPHA == 0 && spi_sck_re) ||
                        (SPI_CPOL == 0 && SPI_CPHA == 1 && spi_sck_fe) ||
                        (SPI_CPOL == 1 && SPI_CPHA == 0 && spi_sck_fe) ||
                        (SPI_CPOL == 1 && SPI_CPHA == 1 && spi_sck_re)) begin
                            spi_rx_shreg <= { spi_rx_shreg[$bits(spi_rx_shreg) - 2 : 0], spi_mosi };  
                            
                            if (spi_rx_bit_idx == 7) begin
                                spi_rx_bit_idx = 0;
                                
                                if (spi_rx_byte_idx < SPI_FRAME_LENGTH_BYTES) begin  
                                    spi_state <= SPI_PROCESS_RX_BYTE;
                                end
                            end else begin
                                spi_rx_bit_idx = spi_rx_bit_idx + 1;
                            end

`line 225 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                             
                        end else if ((SPI_CPOL == 0 && SPI_CPHA == 0 && spi_sck_fe) ||
                        (SPI_CPOL == 0 && SPI_CPHA == 1 && spi_sck_re) ||
                        (SPI_CPOL == 1 && SPI_CPHA == 0 && spi_sck_re) ||
                        (SPI_CPOL == 1 && SPI_CPHA == 1 && spi_sck_fe)) begin
                            if (SPI_CPHA == 1 && spi_tx_bit_idx == 0) begin
                                spi_tx_shreg   <= spi_tx_byte;
                                spi_tx_bit_idx = spi_tx_bit_idx + 1;
                            end else begin
                                spi_tx_shreg <= { spi_tx_shreg[$bits(spi_tx_shreg) - 2 : 0], 1'b0 };
                                
                                if (spi_tx_bit_idx == 7) begin
                                    spi_tx_bit_idx = 0;
                                    
                                    if (spi_tx_byte_idx < SPI_FRAME_LENGTH_BYTES - 1) begin  
                                        spi_tx_byte_idx = spi_tx_byte_idx + 1;
                                        spi_state       <= SPI_LOAD_TX_BYTE;
                                    end
                                end else begin
                                    spi_tx_bit_idx = spi_tx_bit_idx + 1;
                                end
                            end
                        end
                    end else begin
                        spi_rx_bit_idx  = 0;
                        spi_rx_byte_idx = 0;
                        spi_tx_bit_idx  = 0;
                        spi_tx_byte_idx = 0;
                        spi_tx_byte     = '0;
                        axi_fsm_reset   <= 1'b1;
                    end
                end

`line 258 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                 
                 
                 

`line 262 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                SPI_PROCESS_RX_BYTE : begin
                    if (spi_rx_byte_idx == 0) begin
                        spi_rx_cmd <= spi_rx_shreg;
                    end else begin
                        if (spi_rx_cmd == CMD_WRITE) begin
                            if (spi_rx_byte_idx <= 4) begin
                                spi_rx_addr <= spi_rx_addr[23:0] & spi_rx_shreg;
                            end else if (spi_rx_byte_idx <= 8) begin
                                spi_rx_wdata <= spi_rx_wdata[23:0] & spi_rx_shreg;
                                
                                if (spi_rx_byte_idx == 8) begin
                                     
                                    spi_rx_valid <= 1'b1;
                                end
                            end else begin
                                 
                            end
                        end else begin  
                            assert(spi_rx_cmd == CMD_READ);
                            if (spi_rx_byte_idx <= 4) begin
                                spi_rx_addr <= { spi_rx_addr[23:0], spi_rx_shreg };
                                
                                if (spi_rx_byte_idx == 4) begin
                                     
                                    spi_rx_valid <= 1'b1;
                                end
                            end else begin
                                 
                            end
                        end
                    end
                    
                    spi_rx_byte_idx = spi_rx_byte_idx + 1;
                    spi_state       <= SPI_RECEIVE;
                end

`line 298 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                 
                 
                 

`line 302 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                SPI_LOAD_TX_BYTE: begin
                    spi_tx_byte = '0;  
                    
                    if (spi_rx_cmd == CMD_WRITE) begin
                        if (spi_tx_byte_idx == 10) begin
                             
                             
                             
                             
                            spi_tx_byte      = '0;
                            spi_tx_byte[2]   = ~axi_bresp_valid;
                            spi_tx_byte[1:0] = axi_bresp;
                        end
                    end else begin  
                        if (spi_tx_byte_idx <= 5) begin
                             
                        end else if (spi_tx_byte_idx == 6) begin
                            spi_tx_byte = axi_rdata[31:24];
                        end else if (spi_tx_byte_idx == 7) begin
                            spi_tx_byte = axi_rdata[23:16];
                        end else if (spi_tx_byte_idx == 8) begin
                            spi_tx_byte = axi_rdata[15:8];
                        end else if (spi_tx_byte_idx == 9) begin
                            spi_tx_byte = axi_rdata[7:0];
                        end else begin
                             
                             
                             
                             
                            spi_tx_byte      = '0;;
                            spi_tx_byte[2]   = ~axi_rdata_valid;
                            spi_tx_byte[1:0] = axi_rresp;
                        end
                    end
                    
                    if (SPI_CPHA == 0) begin
                        spi_tx_shreg <= spi_tx_byte;
                    end
                    
                    spi_state <= SPI_RECEIVE;
                end
            endcase
        end
    end: spi_fsm

`line 347 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    assign spi_miso = spi_tx_shreg[$bits(spi_tx_shreg)-1];

`line 349 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
     

`line 353 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    always_ff@(posedge axi_aclk) begin: axi_fsm
        if (~axi_aresetn || axi_fsm_reset) begin
            s_axi_awvalid_int <= 1'b0;
            s_axi_awprot_int      <= '0;
            s_axi_awaddr_int      <= '0;
            s_axi_arvalid_int     <= 1'b0;
            s_axi_arprot_int      <= '0;
            s_axi_araddr_int      <= '0;
            s_axi_wvalid_int  <= 1'b0;
            s_axi_wstrb_int       <= '0;
            s_axi_wdata_int       <= '0;
            s_axi_bready_int      <= 1'b0;
            s_axi_rready_int      <= 1'b0;
            axi_bresp_valid   <= 1'b0;
            axi_bresp         <= '0;
            axi_rresp         <= '0;
            axi_rdata_valid   <= 1'b0;
            axi_rdata         <= '0;
            axi_state         <= AXI_IDLE;
        end else begin
            case (axi_state)
                 
                 
                 
                AXI_IDLE : begin
                    if (spi_rx_valid == 1'b1) begin
                        axi_bresp_valid <= 1'b0;
                        axi_rdata_valid <= 1'b0;
                        
                        if (spi_rx_cmd == CMD_WRITE) begin
                            s_axi_awvalid_int         <= 1'b1;
                            s_axi_awaddr_int              <= '0;
                            s_axi_awaddr_int[31:0] <= spi_rx_addr;
                            s_axi_awprot_int              <= '0;  
                            s_axi_wvalid_int          <= 1'b1;
                            s_axi_wdata_int               <= spi_rx_wdata;
                            s_axi_wstrb_int               <= '1;
                            axi_state                 <= AXI_WRITE_ACK;
                        end else begin
                            s_axi_arvalid_int             <= 1'b1;
                            s_axi_araddr_int              <= '0;
                            s_axi_araddr_int[31:0] <= spi_rx_addr;
                            s_axi_arprot_int              <= '0;  
                            axi_state                 <= AXI_READ_ADDR_ACK;
                        end
                    end
                end

`line 401 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                 
                 
                 
                AXI_WRITE_ACK : begin
                    if (s_axi_awready == 1'b1) begin
                        s_axi_awvalid_int <= 1'b0;
                        
                        if (s_axi_wvalid_int == 1'b0) begin
                            s_axi_bready_int <= 1'b1;
                            axi_state    <= AXI_WRITE_BRESP;  
                        end
                    end
                    
                    if (s_axi_wready == 1'b1) begin
                        s_axi_wvalid_int <= 1'b0;
                        s_axi_wstrb_int      <= '0;
                        
                        if (s_axi_awvalid_int == 1'b0) begin
                            s_axi_bready_int <= 1'b1;
                            axi_state    <= AXI_WRITE_BRESP;  
                        end
                    end
                end

`line 425 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                 
                 
                 
                AXI_WRITE_BRESP : begin
                    if (s_axi_bvalid == 1'b1) begin
                        s_axi_bready_int    <= 1'b0;
                        axi_bresp_valid <= 1'b1;
                        axi_bresp       <= s_axi_bresp;
                        axi_state       <= AXI_IDLE;
                    end
                end

`line 437 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                 
                 
                 
                AXI_READ_ADDR_ACK : begin
                    if (s_axi_arready == 1'b1) begin
                        s_axi_arvalid_int <= 1'b0;
                        s_axi_rready_int  <= 1'b1;
                        axi_state     <= AXI_READ_DATA;
                    end
                end

`line 448 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
                 
                 
                 
                AXI_READ_DATA : begin
                    if (s_axi_rvalid == 1'b1) begin
                        s_axi_rready_int    <= 1'b0;
                        axi_rdata_valid <= 1'b1;
                        axi_rdata       <= s_axi_rdata;
                        axi_rresp       <= s_axi_rresp;
                        axi_state       <= AXI_IDLE;
                    end
                end
            endcase
        end
    end: axi_fsm

`line 464 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
    assign s_axi_awvalid = s_axi_awvalid_int;
    assign s_axi_awprot  = s_axi_awprot_int ;
    assign s_axi_awaddr  = s_axi_awaddr_int ;
    assign s_axi_arvalid = s_axi_arvalid_int;
    assign s_axi_arprot  = s_axi_arprot_int ;
    assign s_axi_araddr  = s_axi_araddr_int ;
    assign s_axi_wvalid  = s_axi_wvalid_int ;
    assign s_axi_wstrb   = s_axi_wstrb_int  ;
    assign s_axi_wdata   = s_axi_wdata_int  ;
    assign s_axi_bready  = s_axi_bready_int ;
    assign s_axi_rready  = s_axi_rready_int ;

`line 476 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
endmodule: spi2axi

`line 478 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 480 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 482 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 484 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 
 
 

`line 489 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 

`line 492 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 494 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 496 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 
 

`line 500 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 502 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 
 
 
 
 

`line 508 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
 

`line 510 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
module synchronizer #(
    parameter G_INIT_VALUE    = 0,  
    parameter G_NUM_GUARD_FFS = 1  
) (
    input wire i_reset,
    input wire i_clk,
    input wire i_data,
    output wire o_data
);

`line 520 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
    
    logic s_data_sync_r  = G_INIT_VALUE;
    logic [G_NUM_GUARD_FFS-1:0] s_data_guard_r = {G_NUM_GUARD_FFS{G_INIT_VALUE}};

`line 526 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
    
    always_ff@(posedge i_clk or posedge i_reset) begin: p_synchronizer
        if (i_reset == 1'b1) begin
            s_data_sync_r  <= G_INIT_VALUE;
            s_data_guard_r <= {G_NUM_GUARD_FFS{G_INIT_VALUE}};

`line 534 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
        end else begin
            sync_ff : s_data_sync_r <= i_data;
            guard_ffs : if ($bits(s_data_guard_r) == 1) begin
                s_data_guard_r[0] <= s_data_sync_r;  
            end else begin
                s_data_guard_r <= { s_data_guard_r[$bits(s_data_guard_r) - 2 : 0], s_data_sync_r};
            end
        end
    end: p_synchronizer

`line 544 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
     
     
    
    assign o_data = s_data_guard_r[$bits(s_data_guard_r)-1];

`line 549 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
endmodule : synchronizer

`line 551 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
`resetall

`line 553 "/mnt/c/Users/maha7943/Documents/PersonalProjects/Cocotb/SpiToAxi/spi2axi.sv" 0
